<!DOCTYPE html>

<!--[if lt IE 7]>    <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>     <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>     <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<title>Building</title>
<meta content="" name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<link href="/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/main.css" rel="stylesheet">
<link href="/css/pygments.css" rel="stylesheet">
<link href="/css/asciidoc.css" rel="stylesheet">
<link href="/favicon-192x192.png" rel="icon" sizes="192x192">
<script src="/vendor/modernizr/modernizr.js"></script>
<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create', 'UA-6195355-4', 'auto');ga('send','pageview');
    </script>
</link></link></link></link></link></link></meta></meta></meta></meta></head>
<body>
<!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container">
<div class="navbar-header">
<button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="/"><img src="/logo.png"/></a>
</div>
<div class="navbar-collapse collapse">
<ul class="nav navbar-nav">
<li><a href="/FIDO2">FIDO2</a></li><li><a href="/OTP">OTP</a></li><li><a href="/U2F">U2F</a></li><li><a href="/OATH">OATH</a></li><li><a href="/PGP">PGP</a></li><li><a href="/PIV">PIV</a></li><li><a href="/YubiHSM2">YubiHSM2</a></li><li><a href="/Software_Projects">Software Projects</a></li>
</ul>
<!-- Google Custom Search Engine -->
<div class="navbar-form navbar-right" id="search-box">
<script>
          (function() {
            var cx = '017198492754729237489:tcnraf8md8a';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
          })();
          </script>
<gcse:searchbox-only></gcse:searchbox-only>
</div>
<!-- End Google Custom Search Engine -->
</div><!--/.navbar-collapse -->
</div>
</div>
<div class="container">
<div class="row">
<ol class="breadcrumb">
<li><a href="/">Home</a></li>
<li><a href="/ykneo-oath">ykneo-oath</a></li>
<li class="active">Building</li>
</ol>
</div>
<div class="row">
<div class="col-md-4" style="padding-left: 0;">
<!-- Sidebar -->
<ul class="nav nav-side well well-sm">
<li class="active"><a href="/ykneo-oath">ykneo-oath</a><ul class="">
<li><a href="/ykneo-oath/Release_Notes.html">Release Notes</a></li>
<li class="active"><a href="/ykneo-oath/Building.html">Building</a>
<li><a href="/ykneo-oath/InstallCAPFile.html">InstallCAPFile</a></li>
<li><a href="/ykneo-oath/Protocol.html">Protocol</a></li>
<li><a href="/ykneo-oath/Reset.html">Reset</a></li>
</li></ul>
</li></ul>
<!-- End sidebar -->
</div>
<div class="col-md-8">
<!-- Main content -->
<div class="sidelinks">
<ul>
<li><a href="https://github.com/Yubico/ykneo-oath" rel="noopener noreferrer" target="_blank"><i class="fa fa-github fa-lg"></i> Github</a></li>
</ul>
</div>
<div id="page-content">
<div class="sect1">
<h1 id="_building">Building</h1>
<div class="sectionbody">
<div class="paragraph"><p>There are several ways to build the project:</p></div>
<div class="paragraph"><p>1) With ant, using JCKit.</p></div>
<div class="paragraph"><p>2) With Eclipse and eclipse-jcde, using JCKit.</p></div>
<div class="paragraph"><p>3) Using proprietary NXP Java Card tools.</p></div>
<div class="paragraph"><p>We usually suggest using Ant.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_jckit">Installing JCKit</h2>
<div class="sectionbody">
<div class="paragraph"><p>Install the Java Card Development Kit version 2.2.2, download it from:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-javame-419430.html#java_card_kit-2.2.2-oth-JPR</pre>
</div></div>
<div class="paragraph"><p>Unpack it into a new directory called for example "jckit" folder:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>
<span class="sh-dollar"></span>mkdir jckit
<span class="sh-dollar"></span>cd jckit
<span class="sh-dollar"></span>unzip /path/to/java_card_kit-2_2_2-linux.zip
<span class="sh-dollar"></span>cd java_card_kit-2_2_2/
<span class="sh-dollar"></span>unzip java_card_kit-2_2_2-rr-bin-linux-do.zip
</pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_jcardsim">Installing JCardSim</h2>
<div class="sectionbody">
<div class="paragraph"><p>This is needed for <em>ant test</em> to work.</p></div>
<div class="paragraph"><p>curl -L <a href="https://github.com/licel/jcardsim/raw/jc2.2.2/jcardsim-2.2.2-all.jar" rel="noopener noreferrer" target="_blank">https://github.com/licel/jcardsim/raw/jc2.2.2/jcardsim-2.2.2-all.jar</a> -o test/lib/jcardsim-2.2.2-all.jar</p></div>
<div class="paragraph"><p>The SHA256 checksum on the file we have successfully used is:
33c167e9bf989c3fca692f8053b8032280a1cbca79df818e131c486dd174746a</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_ant">Ant</h2>
<div class="sectionbody">
<div class="paragraph"><p>The project can now be built by invoking ant, supplying the path to
JCKit.  For example:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>ant -DJAVACARD_HOME=/path/to/jckit/java_card_kit-2_2_2/</pre>
</div></div>
<div class="paragraph"><p>The cap file for loading on card will be at:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>applet/bin/pkgYkneoOath/javacard/pkgYkneoOath.cap</pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_eclipe_and_eclipse_jcde">Eclipe and eclipse-jcde</h2>
<div class="sectionbody">
<div class="paragraph"><p>First install Eclipse following instructions on:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>http://www.eclipse.org/</pre>
</div></div>
<div class="paragraph"><p>On Debian/Ubuntu systems Eclipse is packaged and can be installed from
the command line:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>apt-get install eclipse</pre>
</div></div>
<div class="paragraph"><p>Start Eclipse once to make sure it creates a $HOME/.eclipse/
directory.  Then quit Eclipse.</p></div>
<div class="paragraph"><p>Download the eclipse-jcde-0.2.zip file from</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>http://eclipse-jcde.sourceforge.net/</pre>
</div></div>
<div class="paragraph"><p>and unpack it like this:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>
<span class="sh-dollar"></span>cd ~/.eclipse/*/
<span class="sh-dollar"></span>unzip /path/to/eclipse-jcde-0.2.zip
</pre>
</div></div>
<div class="paragraph"><p>The path to unpack the file into depends on your Eclipse installation,
on my Debien Wheezy system the directory was called
~/.eclipse/org.eclipse.platform_3.8_155965261/</p></div>
<div class="paragraph"><p>Start Eclipse again and confirm that you have a new top-level menu
called "Java Card".  Then in Eclipse select the "Preferences" menu
under "Java Card" and point the "Java Card Home" directory to
/path/to/jckit/java_card_kit-2_2_2 replacing /path/to as appropriate.</p></div>
<div class="paragraph"><p>After that the project can be imported into the workspace.
Right-click in the "Project Explorer" window and select "Import".
Under "General" select "Existing Projects into Workspace".  As the
root directory point the directory holding this file.  You need to
select "Copy projects into workspace".</p></div>
<div class="paragraph"><p>To build the .cap file, expand and right click on the "pkgYkneoOath"
sub-directory and select "Java Card Tools" and then "Convert".  The
CAP file will be available in your Eclipse workspace as:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>applet/bin/pkgYkneoOath/javacard/pkgYkneoOath.cap</pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_tests">Tests</h2>
<div class="sectionbody">
<div class="paragraph"><p>To run the tests jcardsim is required. The jar can be fetched from
<a href="https://github.com/licel/jcardsim/raw/jc2.2.2/jcardsim-2.2.2-all.jar" rel="noopener noreferrer" target="_blank">https://github.com/licel/jcardsim/raw/jc2.2.2/jcardsim-2.2.2-all.jar</a>
and should be put into the test/lib directory.</p></div>
</div>
</div>
</div>
<!-- End main content -->
</div>
</div>
</div>
<footer class="container">
<div class="row" style="margin-top:30px;padding-top:20px;border-top:1px solid #eee;">
<div class="col-md-3">
<p style="line-height:2em;font-size:90%">
<strong><a href="https://developers.yubico.com/" style="color:#000">DEV.YUBICO</a></strong><br>
<a href="/FIDO2">FIDO2</a><br>
<a href="/OTP">OTP</a><br>
<a href="/U2F">U2F</a><br>
<a href="/OATH">OATH</a><br>
<a href="/PGP">PGP</a><br>
<a href="/PIV">PIV</a><br>
<a href="/YubiHSM2">YubiHSM2</a><br>
<a href="/Software_Projects">Software Projects</a><br>
</br></br></br></br></br></br></br></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:2em;font-size:90%"><strong>RESOURCES</strong><br>
<a href="https://store.yubico.com/" rel="noopener noreferrer" target="_blank">Buy YubiKeys</a><br>
<a href="https://www.yubico.com/blog/" rel="noopener noreferrer" target="_blank">Blog</a><br>
<a href="https://www.yubico.com/newsletter/" rel="noopener noreferrer" target="_blank">Newsletter</a><br>
<a href="http://forum.yubico.com/" rel="noopener noreferrer" target="_blank">Yubico Forum Archive</a></br></br></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:2em;font-size:90%"><strong><a href="https://www.yubico.com/" rel="noopener noreferrer" style="color:#000" target="_blank">YUBICO.COM</a></strong><br>
<a href="https://www.yubico.com/why-yubico/" rel="noopener noreferrer" target="_blank">Why Yubico</a><br>
<a href="https://www.yubico.com/about/about-us/" rel="noopener noreferrer" target="_blank">About Yubico</a></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:1em;font-size:90%"> </p>
<table align="right" cellpadding="0" cellspacing="0" style="color:#9aca3c">
<tbody>
<tr>
<td style="padding:10px"><a href="https://www.yubico.com/feed/" rel="noopener noreferrer" target="_blank" title="Blog RSS"><i class="fa fa-rss"></i></a></td>
<td style="padding:10px"><a href="https://twitter.com/yubico" rel="noopener noreferrer" target="_blank" title="Twitter"><i class="fa fa-twitter"></i></a></td>
<td style="padding:10px"><a href="https://plus.google.com/114531431015898699937" rel="noopener noreferrer" target="_blank" title="Google Plus"><i class="fa fa-google-plus"></i></a></td>
<td style="padding:10px"><a href="https://www.facebook.com/Yubikey" rel="noopener noreferrer" target="_blank" title="Facebook"><i class="fa fa-facebook"></i></a></td>
<td style="padding:10px"><a href="https://www.youtube.com/c/Yubico" rel="noopener noreferrer" target="_blank" title="YouTube"><i class="fa fa-youtube"></i></a></td>
<td style="padding:10px 0 10px 10px"><a href="https://github.com/Yubico" rel="noopener noreferrer" target="_blank" title="GitHub"><i class="fa fa-github"></i></a></td>
</tr>
</tbody>
</table>
</div>
</div>
</footer>
<!-- Offset anchor links for navbar -->
<script>
    var shiftWindow = function() { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
  </script>
<script src="/vendor/jquery/dist/jquery.min.js"></script>
<script src="/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
</body>
</html>