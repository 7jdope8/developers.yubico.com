<!DOCTYPE html>

<!--[if lt IE 7]>    <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>     <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>     <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<title>WebAuthn Client Registration</title>
<meta content="" name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<link href="/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/main.css" rel="stylesheet">
<link href="/css/pygments.css" rel="stylesheet">
<link href="/css/asciidoc.css" rel="stylesheet">
<link href="/favicon-192x192.png" rel="icon" sizes="192x192">
<script src="/vendor/modernizr/modernizr.js"></script>
<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create', 'UA-6195355-4', 'auto');ga('send','pageview');
    </script>
</link></link></link></link></link></link></meta></meta></meta></meta></head>
<body>
<!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container">
<div class="navbar-header">
<button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="/"><img src="/logo.png"/></a>
</div>
<div class="navbar-collapse collapse">
<ul class="nav navbar-nav">
<li class="active"><a href="/FIDO2">FIDO2</a></li><li><a href="/OTP">OTP</a></li><li><a href="/U2F">U2F</a></li><li><a href="/OATH">OATH</a></li><li><a href="/PGP">PGP</a></li><li><a href="/PIV">PIV</a></li><li><a href="/YubiHSM2">YubiHSM2</a></li><li><a href="/Software_Projects">Software Projects</a></li>
</ul>
<!-- Google Custom Search Engine -->
<div class="navbar-form navbar-right" id="search-box">
<script>
          (function() {
            var cx = '017198492754729237489:tcnraf8md8a';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
          })();
          </script>
<gcse:searchbox-only></gcse:searchbox-only>
</div>
<!-- End Google Custom Search Engine -->
</div><!--/.navbar-collapse -->
</div>
</div>
<div class="container">
<div class="row">
<ol class="breadcrumb">
<li><a href="/">Home</a></li>
<li><a href="/FIDO2">FIDO2</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide">FIDO2 WebAuthn Developer Guide</a></li>
<li class="active">WebAuthn Client Registration</li>
</ol>
</div>
<div class="row">
<div class="col-md-4" style="padding-left: 0;">
<!-- Sidebar -->
<ul class="nav nav-side well well-sm">
<li class="active"><a href="/FIDO2">FIDO2</a><ul class="">
<li class="active"><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide">FIDO2 WebAuthn Developer Guide</a><ul class="">
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Overview.html">Overview</a></li>
<li class="active"><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/WebAuthn_Client_Registration.html">WebAuthn Client Registration</a>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/WebAuthn_Client_Authentication.html">WebAuthn Client Authentication</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/WebAuthn_Server_Overview.html">WebAuthn Server Overview</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/WebAuthn_Server_Registration.html">WebAuthn Server Registration</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Attestation.html">Attestation</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Resident_Keys.html">Resident Keys</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Registering_Multiple_Devices.html">Registering Multiple Devices</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/WebAuthn_Server_Authentication.html">WebAuthn Server Authentication</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Federation.html">Federation</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Account_Recovery.html">Account Recovery</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Migrating_from_U2F.html">Migrating from U2F</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Desktop_and_Mobile_Authentication.html">Desktop and Mobile Authentication</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/FAQ.html">FAQ</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Resources.html">Resources</a></li>
<li><a href="/FIDO2/FIDO2_WebAuthn_Developer_Guide/Terminology.html">Terminology</a></li>
</li></ul>
<li><a href="/FIDO2/Libraries">Libraries</a></li>
</li></ul>
</li></ul>
<!-- End sidebar -->
</div>
<div class="col-md-8">
<!-- Main content -->
<div class="sidelinks">
<ul>
<li><a href="https://github.com/Yubico/developers.yubico.com/issues/new?title=Suggested%20edit%20for%20FIDO2/FIDO2_WebAuthn_Developer_Guide/WebAuthn_Client_Registration" rel="noopener noreferrer" target="_blank"><i class="fa fa-pencil-square-o fa-lg"></i> Suggest Edits</a></li>
</ul>
</div>
<div id="page-content">
<div class="sect1">
<h1 id="_web_authentication_api">Web Authentication API</h1>
<div class="sectionbody">
<div class="paragraph"><p>The <a href="https://www.w3.org/TR/webauthn/" rel="noopener noreferrer" target="_blank">W3C Web Authentication API</a> specification is the authority for implementing WebAuthn. This guide will rely on the content of that specification for building WebAuthn user authentication experiences.</p></div>
<div class="paragraph"><p>WebAuthn specifies an API for creating and using public key credentials. Credentials belong to a user and are managed by an authenticator, with which the RP interacts through the client.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_webauthn_client_registration">WebAuthn Client Registration</h2>
<div class="sectionbody">
<div class="paragraph"><p>With the user’s consent, the RP can request the client to create a new credential. In the browser, this is achieved by calling the <code>navigator.credentials.create()</code> method. It takes in <code>PublicKeyCredentialCreationOptions</code> as the argument and returns a <code>PublicKeyCredential</code>. The RP validates the PublicKeyCredential before adding the credential to the user’s account.</p></div>
<div class="imageblock">
<div class="content">
<img alt="webauthn-registration-flow-01.svg?sanitize=true" src="webauthn-registration-flow-01.svg?sanitize=true">
</img></div>
</div>
<div class="paragraph"><p><a href="https://www.w3.org/TR/webauthn/images/webauthn-registration-flow-01.svg" rel="noopener noreferrer" target="_blank">W3C WebAuthn Registration Flow Figure</a></p></div>
<div class="sect2">
<h3 id="_registration_flow">Registration Flow</h3>
<div class="paragraph"><p><strong>0.</strong> The client initiates a request to register an authenticator on behalf of the user. It is a best practice to collect the authenticator nickname. When multiple authenticators are registered, nicknames make them more recognizable to users.</p></div>
<div class="paragraph"><p><strong>1.</strong> The RP builds an instance of the <code>PublicKeyCredentialCreationOptions</code> and returns it to the client. The instance contains information about the user, the RP and the type of credential desired.</p></div>
<div class="sect3">
<h4 id="_example">Example</h4>
<div class="paragraph"><p><strong>Parsed PublicKeyCredentialCreationOptions</strong></p></div>
<div class="paragraph"><p><em>Note: In the WebAuthn API, all binary parameters (<code>user.id</code>, <code>challenge</code> etc.) are actually <code>Uint8Arrays</code> and not Base64 strings. This example displays them as Base64 strings for readability</em></p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"publicKey"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"attestation"</span><span class="o">:</span> <span class="s2">"direct"</span><span class="p">,</span>
    <span class="s2">"authenticatorSelection"</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">"authenticatorAttachment"</span><span class="o">:</span> <span class="s2">"cross-platform"</span><span class="p">,</span>
      <span class="s2">"requireResidentKey"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"userVerification"</span><span class="o">:</span> <span class="s2">"discouraged"</span>
    <span class="p">},</span>
    <span class="s2">"challenge"</span><span class="o">:</span> <span class="s2">"qNqrdXUrk5S7dCM1MAYH3qSVDXznb-6prQoGqiACR10="</span><span class="p">,</span>
    <span class="s2">"excludeCredentials"</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">"pubKeyCredParams"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"alg"</span><span class="o">:</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span>
        <span class="s2">"type"</span><span class="o">:</span> <span class="s2">"public-key"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"rp"</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"demo.yubico.com"</span><span class="p">,</span>
      <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Yubico Demo"</span>
    <span class="p">},</span>
    <span class="s2">"timeout"</span><span class="o">:</span> <span class="mi">30000</span><span class="p">,</span>
    <span class="s2">"user"</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">"displayName"</span><span class="o">:</span> <span class="s2">"Yubico demo user"</span><span class="p">,</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"bz9ZDfHzOBLycqISTAdWwWIZt8VO-6mT3hBNXS5jwmY="</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div></div></div>
<div class="paragraph"><p><strong>attestation:</strong> The default value is “none” which means the RP is not interested in authenticator attestation. “indirect” indicates the RP prefers a verifiable attestation statement but allows the client to decide how to obtain it. “direct” indicates the RP wants to receive the attestation statement. It is recommended that RPs use the “direct” value and store the attestation statement with the credential so they can inspect authenticator models retroactively if policy changes.</p></div>
<div class="paragraph"><p><strong>authenticatorSelection:</strong> specify authenticator requirements. The optional <strong>authenticatorAttachment</strong> attribute filters eligible authenticator by type. The value “platform” indicates a platform authenticator, such as Windows Hello. The value "cross-platform" value indicates a roaming authenticator, such as a security key. When the <strong>requireResidentKey</strong> attribute is true, the authenticator must create a client side resident private key (a.k.a. resident credential). The <strong>userVerification</strong> attribute can be set to a value of “preferred”, “required”, or “discouraged”.</p></div>
<div class="paragraph"><p><strong>challenge:</strong> In order to prevent replay attacks, the value should be randomly generated by the RP.</p></div>
<div class="paragraph"><p><strong>excludeCredentials:</strong> limits creation of multiple credentials for the same account on a single authenticator. If the authenticator finds an existing credential <strong>type</strong> and <strong>id</strong> for the RP, then a new credential will not be created.</p></div>
<div class="paragraph"><p><strong>pubKeyCredParams:</strong> Specifies which cryptographic algorithms the RP supports. <strong>type:</strong> only one type: “public-key”. <strong>alg:</strong> cryptographic signature algorithm preference specified by <a href="https://www.iana.org/assignments/cose/cose.xhtml#algorithms" rel="noopener noreferrer" target="_blank">COSE Algorithms registry</a>. If you use a library to validate authenticator responses, <code>pubKeyCredParams</code> is probably determined by what the library suppports.</p></div>
<div class="paragraph"><p><strong>rp:</strong> relying party information. <strong>name</strong> is required. The <strong>id</strong> attribute must equal the domain of the origin seen by the client, or the origin must be a subdomain of the <strong>id</strong>. If id is omitted, then origins effective domain is used.</p></div>
<div class="paragraph"><p><strong>timeout:</strong> the time, in milliseconds, that the caller is willing to wait for the call to complete.</p></div>
<div class="paragraph"><p><strong>user:</strong> contains data about the user account. The <strong>displayName</strong> provides a user-friendly name which may be displayed to the user. The <strong>name</strong> attribute takes a traditional username or the like, to disambiguate accounts with similar <strong>displayNames</strong>. The <strong>id</strong> attribute is the user handle that is generated by the RP and used to uniquely identify a user. Unlike <strong>name</strong>, <strong>id</strong> is not meant to be human-readable and should not contain personally identifying information such as an e-mail address.</p></div>
<div class="paragraph"><p><strong>2.</strong> The JavaScript client calls <code>navigator.credentials.create()</code>. The browser validates the <code>rp.id</code> against the origin, hashes the <code>clientData</code>, and calls <code>authenticatorMakeCredential</code> method.</p></div>
<div class="paragraph"><p><strong>3.</strong> Before proceeding, the authenticator will ask for some form of user consent. After verifying consent, the authenticator will create a new asymmetric key pair and safely store the private key. The public key becomes part of the attestation, which the authenticator signs over with the attestation private key. The manufacturer’s attestation certificate chain may also be returned so that the relying party can validate the device back to a root of trust.</p></div>
<div class="paragraph"><p><strong>4.</strong> The new public key, a credential id, and other attestation data are returned to the browser where they become the attestationObject.</p></div>
<div class="paragraph"><p><strong>5.</strong> The <code>navigator.credentials.create()</code> Promise resolves to a <code>PublicKeyCredential</code> which returned to the RP to finalize the registration.</p></div>
</div>
<div class="sect3">
<h4 id="_example_2">Example</h4>
<div class="paragraph"><p><strong>Parsed PublicKeyCredential</strong></p></div>
<div class="paragraph"><p><em>Note: In the WebAuthn API, all binary parameters (<code>attestationObject</code> and <code>clientDataJSON</code>) are actually an <code>ArrayBuffer</code> and not Base64 strings. This example displays them as Base64 strings for readability</em></p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"X9FrwMfmzj..."</span><span class="p">,</span>
  <span class="s2">"response"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"attestationObject"</span><span class="o">:</span> <span class="s2">"o2NmbXRoZmlk..."</span><span class="p">,</span>
    <span class="s2">"clientDataJSON"</span><span class="o">:</span> <span class="s2">"eyJjaGFsbGVuZ..."</span>
  <span class="p">},</span>
  <span class="s2">"clientExtensionResults"</span><span class="o">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div></div></div>
<div class="paragraph"><p><strong>id:</strong> The credential identifier.</p></div>
<div class="paragraph"><p><strong>response:</strong> contains the credential public key, and metadata which can be used the RP to assess the characteristics of the credential. The <strong>attestationObject</strong> contains the authenticator data and attestation statement. The <strong>clientDataJSON</strong> contains the JSON-serialized data passed to the authenticator by the client in order to generate the credential.</p></div>
<div class="paragraph"><p><strong>clientExtensionResults():</strong> method returns values for zero or more WebAuthn extensions.</p></div>
</div>
<div class="sect3">
<h4 id="_attestation_object">Attestation Object</h4>
<div class="imageblock">
<div class="content">
<img alt="fido-attestation-structures.svg?sanitize=true" src="fido-attestation-structures.svg?sanitize=true">
</img></div>
</div>
<div class="paragraph"><p><a href="https://www.w3.org/TR/webauthn/images/fido-attestation-structures.svg" rel="noopener noreferrer" target="_blank">W3C Attestation Object Illustration</a></p></div>
</div>
<div class="sect3">
<h4 id="_example_3">Example</h4>
<div class="paragraph"><p><strong>Parsed attestationObject</strong></p></div>
<div class="paragraph"><p><em>Note: In the WebAuthn API, the attestationObject is actually an <code>ArrayBuffer</code>. This example displays it in Base64 for readability</em></p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"attStmt"</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">"alg"</span><span class="o">:</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span>
      <span class="s2">"sig"</span><span class="o">:</span> <span class="s2">"MEUCIQD1..."</span><span class="p">,</span>
      <span class="s2">"x5c"</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">"MIICvDCCA..."</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">"authData"</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">"credentialData"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"aaguid"</span><span class="o">:</span> <span class="s2">"-iuZ3J45QlePkkow0jxBGA=="</span><span class="p">,</span>
        <span class="s2">"credentialId"</span><span class="o">:</span> <span class="s2">"X9FrwMfmzj..."</span><span class="p">,</span>
        <span class="s2">"publicKey"</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">"1"</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
          <span class="s2">"3"</span><span class="o">:</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span>
          <span class="s2">"-1"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="s2">"-2"</span><span class="o">:</span> <span class="s2">"ZsGUIeG53MifPb72qqnmC-X-0PLO-bZiNNow3LUHUYo="</span><span class="p">,</span>
          <span class="s2">"-3"</span><span class="o">:</span> <span class="s2">"kuBFf3ZcUc-LAFTPIB8e5DaDt2ofJQ3wAB16zHqNUX0="</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">"flags"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"AT"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">"ED"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="s2">"UP"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">"UV"</span><span class="o">:</span> <span class="kc">false</span>
      <span class="p">},</span>
      <span class="s2">"rpIdHash"</span><span class="o">:</span> <span class="s2">"xGzvgq0bVGR3WR0Aiwh1nsPm0uy085R0v-ppaZJdA7c="</span><span class="p">,</span>
      <span class="s2">"signatureCounter"</span><span class="o">:</span> <span class="mi">7</span>
    <span class="p">},</span>
    <span class="s2">"fmt"</span><span class="o">:</span> <span class="s2">"packed"</span>
<span class="p">}</span>
</pre></div></div></div>
<div class="paragraph"><p><strong>attStmt:</strong> The attestation statement is a signed data object containing statements about the public key credential itself and the authenticator that created it. This example uses the “packed” attestation statement format. The <strong>alg</strong> field contains the <a href="https://www.iana.org/assignments/cose/cose.xhtml#algorithms" rel="noopener noreferrer" target="_blank">COSE Algorithm identifier</a>. The <strong>sig</strong> field contains the attestation signature. The <strong>x5c</strong> field contains the attestation certificate and its certificate chain. Use the certificate chain to verify the device is genuine.</p></div>
<div class="paragraph"><p><strong>authData:</strong> The authenticator data is a byte array containing data about the make credential operation, including the credential ID and public key.</p></div>
<div class="paragraph"><p><strong>credentialData:</strong> the credential data attested by the authenticator.</p></div>
<div class="paragraph"><p><strong>aaguid:</strong> An identifier chosen by the authenticator manufacturer, indicating the make and model of the authenticator. Note: some authenticators (including all U2F authenticators) don’t support this, and set the <code>aaguid</code> to 16 zero bytes.</p></div>
<div class="paragraph"><p><strong>credentialId:</strong> The credential identifier generated by the authenticator</p></div>
<div class="paragraph"><p><strong>publicKey:</strong> The credential public key encoded in <a href="https://tools.ietf.org/html/rfc8152" rel="noopener noreferrer" target="_blank">COSE_Key format</a>. The example is a COSE_Key Elliptic Curve public key in EC2 format.<br>
<strong>1:</strong> is the key type. A value of 2 is the EC2 type<br>
<strong>3:</strong> is the signature algorithm. A value of -7 is the ES256 signature algorithm<br>
<strong>-1:</strong> is the curve type. A value of 1 is the P-256 curve<br>
<strong>-2:</strong> is the x-coordinate as byte string<br>
<strong>-3:</strong> is the y-coordinate as byte string</br></br></br></br></br></p></div>
<div class="paragraph"><p><strong>flags:</strong> The <strong>AT</strong> indicates whether the authenticator added attested credential data, and is always 1 for registrations. The <strong>ED</strong> flag indicates if the authenticator data has extensions. The <strong>UP</strong> flag indicates if the user is present. The <strong>UV</strong> flag indicates if the user is verified (PIN or biometric).</p></div>
<div class="paragraph"><p><strong>rpIdHash:</strong> a SHA-256 hash of the RP ID the credential is scoped to.</p></div>
<div class="paragraph"><p><strong>signatureCounter:</strong> is incremented for each successful authenticatorGetAssertion operation. It is used by RPs to aid in detecting cloned authenticators.</p></div>
<div class="paragraph"><p><strong>fmt:</strong> The attestation statement format identifier. The format could be one of the defined attestation formats detailed in the W3C WebAuthn spec, e.g.  packed, fido-u2f format, etc…</p></div>
</div>
<div class="sect3">
<h4 id="_example_4">Example</h4>
<div class="paragraph"><p><strong>Parsed clientDataJSON</strong></p></div>
<div class="paragraph"><p><em>Note: In the WebAuthn API, the <code>clientDataJSON</code> is actually an <code>ArrayBuffer</code>. This example displays it in Base64 for readability</em></p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"challenge"</span><span class="o">:</span> <span class="s2">"qNqrdXUrk5S7dCM1MAYH3qSVDXznb-6prQoGqiACR10"</span><span class="p">,</span>
  <span class="s2">"origin"</span><span class="o">:</span> <span class="s2">"https://demo.yubico.com"</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="o">:</span> <span class="s2">"webauthn.create"</span>
<span class="p">}</span>
</pre></div></div></div>
<div class="paragraph"><p>The <strong>clientDataJSON</strong> object contains the <strong>challenge</strong> sent by the RP, the <strong>origin</strong> of the domain observed by the client, and the <strong>type</strong> of operation performed.</p></div>
<div class="paragraph"><p><strong>6.</strong> The RP performs a series of checks to ensure the registration ceremony was not tampered with, including:</p></div>
<div class="ulist"><ul>
<li>
<p>
Verifying the signature over the <code>clientDataHash</code> and the attestation using the certificate chain in the attestation statement
</p>
</li>
<li>
<p>
Optionally: verifying that the certificate chain is signed by a trusted certificate authority of the RP’s choice.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The full list of validation steps can be found in the <a href="https://www.w3.org/TR/webauthn/#registering-a-new-credential" rel="noopener noreferrer" target="_blank">WebAuthn specification</a>.</p></div>
<div class="paragraph"><p><a href="/FIDO2//FIDO2_WebAuthn_Developer_Guide/WebAuthn_Client_Authentication.html">Next: WebAuthn Client Authentication</a></p></div>
</div>
</div>
</div>
</div>
</div>
<!-- End main content -->
</div>
</div>
</div>
<footer class="container">
<div class="row" style="margin-top:30px;padding-top:20px;border-top:1px solid #eee;">
<div class="col-md-3">
<p style="line-height:2em;font-size:90%">
<strong><a href="https://developers.yubico.com/" style="color:#000">DEV.YUBICO</a></strong><br>
<a href="/FIDO2">FIDO2</a><br>
<a href="/OTP">OTP</a><br>
<a href="/U2F">U2F</a><br>
<a href="/OATH">OATH</a><br>
<a href="/PGP">PGP</a><br>
<a href="/PIV">PIV</a><br>
<a href="/YubiHSM2">YubiHSM2</a><br>
<a href="/Software_Projects">Software Projects</a><br>
</br></br></br></br></br></br></br></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:2em;font-size:90%"><strong>RESOURCES</strong><br>
<a href="https://store.yubico.com/" rel="noopener noreferrer" target="_blank">Buy YubiKeys</a><br>
<a href="https://www.yubico.com/blog/" rel="noopener noreferrer" target="_blank">Blog</a><br>
<a href="https://www.yubico.com/newsletter/" rel="noopener noreferrer" target="_blank">Newsletter</a><br>
<a href="http://forum.yubico.com/" rel="noopener noreferrer" target="_blank">Yubico Forum Archive</a></br></br></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:2em;font-size:90%"><strong><a href="https://www.yubico.com/" rel="noopener noreferrer" style="color:#000" target="_blank">YUBICO.COM</a></strong><br>
<a href="https://www.yubico.com/why-yubico/" rel="noopener noreferrer" target="_blank">Why Yubico</a><br>
<a href="https://www.yubico.com/about/about-us/" rel="noopener noreferrer" target="_blank">About Yubico</a></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:1em;font-size:90%"> </p>
<table align="right" cellpadding="0" cellspacing="0" style="color:#9aca3c">
<tbody>
<tr>
<td style="padding:10px"><a href="https://www.yubico.com/feed/" rel="noopener noreferrer" target="_blank" title="Blog RSS"><i class="fa fa-rss"></i></a></td>
<td style="padding:10px"><a href="https://twitter.com/yubico" rel="noopener noreferrer" target="_blank" title="Twitter"><i class="fa fa-twitter"></i></a></td>
<td style="padding:10px"><a href="https://plus.google.com/114531431015898699937" rel="noopener noreferrer" target="_blank" title="Google Plus"><i class="fa fa-google-plus"></i></a></td>
<td style="padding:10px"><a href="https://www.facebook.com/Yubikey" rel="noopener noreferrer" target="_blank" title="Facebook"><i class="fa fa-facebook"></i></a></td>
<td style="padding:10px"><a href="https://www.youtube.com/c/Yubico" rel="noopener noreferrer" target="_blank" title="YouTube"><i class="fa fa-youtube"></i></a></td>
<td style="padding:10px 0 10px 10px"><a href="https://github.com/Yubico" rel="noopener noreferrer" target="_blank" title="GitHub"><i class="fa fa-github"></i></a></td>
</tr>
</tbody>
</table>
</div>
</div>
</footer>
<!-- Offset anchor links for navbar -->
<script>
    var shiftWindow = function() { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
  </script>
<script src="/vendor/jquery/dist/jquery.min.js"></script>
<script src="/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
</body>
</html>