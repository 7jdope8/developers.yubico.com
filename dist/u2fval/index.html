<!DOCTYPE html>

<!--[if lt IE 7]>    <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>     <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>     <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<title>u2fval</title>
<meta content="" name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<link href="/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/main.css" rel="stylesheet">
<link href="/css/pygments.css" rel="stylesheet">
<link href="/css/asciidoc.css" rel="stylesheet">
<link href="/favicon-192x192.png" rel="icon" sizes="192x192">
<script src="/vendor/modernizr/modernizr.js"></script>
<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create', 'UA-6195355-4', 'auto');ga('send','pageview');
    </script>
</link></link></link></link></link></link></meta></meta></meta></meta></head>
<body>
<!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container">
<div class="navbar-header">
<button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="/"><img src="/logo.png"/></a>
</div>
<div class="navbar-collapse collapse">
<ul class="nav navbar-nav">
<li><a href="/FIDO2">FIDO2</a></li><li><a href="/OTP">OTP</a></li><li><a href="/U2F">U2F</a></li><li><a href="/OATH">OATH</a></li><li><a href="/PGP">PGP</a></li><li><a href="/PIV">PIV</a></li><li><a href="/YubiHSM2">YubiHSM2</a></li><li><a href="/Software_Projects">Software Projects</a></li>
</ul>
<!-- Google Custom Search Engine -->
<div class="navbar-form navbar-right" id="search-box">
<script>
          (function() {
            var cx = '017198492754729237489:tcnraf8md8a';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
          })();
          </script>
<gcse:searchbox-only></gcse:searchbox-only>
</div>
<!-- End Google Custom Search Engine -->
</div><!--/.navbar-collapse -->
</div>
</div>
<div class="container">
<div class="row">
<ol class="breadcrumb">
<li><a href="/">Home</a></li>
<li class="active">u2fval</li>
</ol>
</div>
<div class="row">
<div class="col-md-4" style="padding-left: 0;">
<!-- Sidebar -->
<ul class="nav nav-side well well-sm">
<li class="active"><a href="/u2fval">u2fval</a><ul class="">
<li><a href="/u2fval/Release_Notes.html">Release Notes</a></li>
<li><a href="/u2fval/Manuals">Manuals</a></li>
<li><a href="/u2fval/REST_API.html">REST API</a></li>
<li><a href="/u2fval/Database_Setup.html">Database Setup</a></li>
<li><a href="/u2fval/Apache_Deployment.html">Apache Deployment</a></li>
<li><a href="/u2fval/Using_Memcached.html">Using Memcached</a></li>
<li><a href="/u2fval/Installation.html">Installation</a></li>
<li><a href="/u2fval/Logging.html">Logging</a></li>
<li><a href="/u2fval/Metadata_Format.html">Metadata Format</a></li>
<li><a href="/u2fval/Migrating_From_Older_Versions.html">Migrating From Older Versions</a></li>
<li><a href="/u2fval/Nginx_And_uWSGI_Deployment.html">Nginx And uWSGI Deployment</a></li>
</ul>
</li></ul>
<!-- End sidebar -->
</div>
<div class="col-md-8">
<!-- Main content -->
<div class="sidelinks">
<ul>
<li><a href="https://github.com/Yubico/u2fval" rel="noopener noreferrer" target="_blank"><i class="fa fa-github fa-lg"></i> Github</a></li>
</ul>
</div>
<div id="page-content">
<div class="sect1">
<h1 id="_yubico_u2f_validation_server">Yubico U2F Validation Server</h1>
<div class="sectionbody">
<div class="paragraph"><p>The Yubico U2F Validation Server (u2fval) is a server that provides U2F
registration and authentication through a simple JSON based REST API.</p></div>
<div class="sect2">
<h3 id="_installation">Installation</h3>
<div class="paragraph"><p>u2flib-server is installable by one of three means</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
via <code>pip</code>
</p>
</li>
<li>
<p>
via <code>git</code>
</p>
</li>
<li>
<p>
via <code>python setup.py</code>
</p>
</li>
</ol></div>
<div class="sect3">
<h4 id="_installation_via_code_pip_code">Installation via <code>pip</code></h4>
<div class="paragraph"><p>Run</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>pip install u2fval</pre>
</div></div>
<div class="paragraph"><p>Alternatively, you can run:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>pip install u2fval-&lt;version&gt;.tar.gz</pre>
</div></div>
<div class="paragraph"><p>Where the <code>.tar.gz</code> file is a source release of the project.</p></div>
</div>
<div class="sect3">
<h4 id="_installation_via_code_git_code">Installation via <code>git</code></h4>
<div class="ulist"><ul>
<li>
<p>
Run these commands to check out the source code:
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>git clone https://github.com/Yubico/u2fval.git
cd u2fval
git submodule init
git submodule update</pre>
</div></div>
</li>
<li>
<p>
Build a source release tar ball by running:
</p>
<div class="literalblock">
<div class="content monospaced">
<pre>python setup.py sdist</pre>
</div></div>
</li>
</ul></div>
<div class="paragraph"><p>The resulting build will be created in the <code>dist/</code> subdirectory.</p></div>
</div>
<div class="sect3">
<h4 id="_installation_via_code_python_setup_py_code">Installation via <code>python setup.py</code></h4>
<div class="paragraph"><p>You can install directly from the git checkout by running the following
commands:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>python setup.py install</pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_configuration">Configuration</h3>
<div class="paragraph"><p>Configuration is kept in <code>/etc/yubico/u2fval/u2fval.conf</code>, see the default
configuration file for more information (also available in the conf/ directory
of any source release of this project).</p></div>
<div class="paragraph"><p>The Yubico U2F Validation Server needs an SQL database to work. Optionally a
memcached server can be used to store transient data which doesnâ€™t need to be
persisted to the database (if not available this data will be stored in the
main database). The default configuration uses an in-memory SQLite3 database
which you probably want to change to something like</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>SQLALCHEMY_DATABASE_URI = 'sqlite:////etc/yubico/u2fval/u2fval.db'</pre>
</div></div>
<div class="paragraph"><p>Once the configuration file has been configured with database
credentials, the database can be initialized by running the following command:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>u2fval db init</pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_api_clients">API Clients</h3>
<div class="paragraph"><p>To be able to use the server, a client needs to be created. This is done using
the <code>u2fval client create</code> command. For example:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>u2fval client create example \
  https://example.com/app-identity.json \
  https://example.com</pre>
</div></div>
<div class="paragraph"><p>See <code>u2fval client create --help</code> for more information.</p></div>
<div class="sect3">
<h4 id="_authenticating_clients">Authenticating Clients</h4>
<div class="paragraph"><p>Each client request needs to be authenticated. This authentication is outside
of the scope of the Yubico U2F Validation Server and can be handled by the
webserver or some WSGI middleware. Once authenticated, the client name should
be set in the REMOTE_USER server environment variable.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_deployment">Deployment</h3>
<div class="paragraph"><p>The server can either be run standalone (intended for testing purposes) using
the <code>u2fval run</code> command, or be hosted by any WSGI capable web server, such as
Apache with mod_wsgi enabled.</p></div>
</div>
<div class="sect2">
<h3 id="_accessing_the_server">Accessing the Server</h3>
<div class="paragraph"><p>Once the server is set up and at least one client has been created, the client
can access the server via the REST API. Find the API documentation in the doc/
directory.</p></div>
</div>
</div>
</div>
</div>
<!-- End main content -->
</div>
</div>
</div>
<footer class="container">
<div class="row" style="margin-top:30px;padding-top:20px;border-top:1px solid #eee;">
<div class="col-md-3">
<p style="line-height:2em;font-size:90%">
<strong><a href="https://developers.yubico.com/" style="color:#000">DEV.YUBICO</a></strong><br>
<a href="/FIDO2">FIDO2</a><br>
<a href="/OTP">OTP</a><br>
<a href="/U2F">U2F</a><br>
<a href="/OATH">OATH</a><br>
<a href="/PGP">PGP</a><br>
<a href="/PIV">PIV</a><br>
<a href="/YubiHSM2">YubiHSM2</a><br>
<a href="/Software_Projects">Software Projects</a><br>
</br></br></br></br></br></br></br></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:2em;font-size:90%"><strong>RESOURCES</strong><br>
<a href="https://store.yubico.com/" rel="noopener noreferrer" target="_blank">Buy YubiKeys</a><br>
<a href="https://www.yubico.com/blog/" rel="noopener noreferrer" target="_blank">Blog</a><br>
<a href="https://www.yubico.com/newsletter/" rel="noopener noreferrer" target="_blank">Newsletter</a><br>
<a href="http://forum.yubico.com/" rel="noopener noreferrer" target="_blank">Yubico Forum Archive</a></br></br></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:2em;font-size:90%"><strong><a href="https://www.yubico.com/" rel="noopener noreferrer" style="color:#000" target="_blank">YUBICO.COM</a></strong><br>
<a href="https://www.yubico.com/why-yubico/" rel="noopener noreferrer" target="_blank">Why Yubico</a><br>
<a href="https://www.yubico.com/about/about-us/" rel="noopener noreferrer" target="_blank">About Yubico</a></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:1em;font-size:90%"> </p>
<table align="right" cellpadding="0" cellspacing="0" style="color:#9aca3c">
<tbody>
<tr>
<td style="padding:10px"><a href="https://www.yubico.com/feed/" rel="noopener noreferrer" target="_blank" title="Blog RSS"><i class="fa fa-rss"></i></a></td>
<td style="padding:10px"><a href="https://twitter.com/yubico" rel="noopener noreferrer" target="_blank" title="Twitter"><i class="fa fa-twitter"></i></a></td>
<td style="padding:10px"><a href="https://plus.google.com/114531431015898699937" rel="noopener noreferrer" target="_blank" title="Google Plus"><i class="fa fa-google-plus"></i></a></td>
<td style="padding:10px"><a href="https://www.facebook.com/Yubikey" rel="noopener noreferrer" target="_blank" title="Facebook"><i class="fa fa-facebook"></i></a></td>
<td style="padding:10px"><a href="https://www.youtube.com/c/Yubico" rel="noopener noreferrer" target="_blank" title="YouTube"><i class="fa fa-youtube"></i></a></td>
<td style="padding:10px 0 10px 10px"><a href="https://github.com/Yubico" rel="noopener noreferrer" target="_blank" title="GitHub"><i class="fa fa-github"></i></a></td>
</tr>
</tbody>
</table>
</div>
</div>
</footer>
<!-- Offset anchor links for navbar -->
<script>
    var shiftWindow = function() { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
  </script>
<script src="/vendor/jquery/dist/jquery.min.js"></script>
<script src="/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
</body>
</html>