<!DOCTYPE html>

<!--[if lt IE 7]>    <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>     <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>     <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<title>Getting Started</title>
<meta content="" name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<link href="/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/main.css" rel="stylesheet">
<link href="/css/pygments.css" rel="stylesheet">
<link href="/css/asciidoc.css" rel="stylesheet">
<link href="/favicon-192x192.png" rel="icon" sizes="192x192">
<script src="/vendor/modernizr/modernizr.js"></script>
<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create', 'UA-6195355-4', 'auto');ga('send','pageview');
    </script>
</link></link></link></link></link></link></meta></meta></meta></meta></head>
<body>
<!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container">
<div class="navbar-header">
<button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="/"><img src="/logo.png"/></a>
</div>
<div class="navbar-collapse collapse">
<ul class="nav navbar-nav">
<li><a href="/FIDO2">FIDO2</a></li><li><a href="/OTP">OTP</a></li><li><a href="/U2F">U2F</a></li><li><a href="/OATH">OATH</a></li><li><a href="/PGP">PGP</a></li><li><a href="/PIV">PIV</a></li><li><a href="/YubiHSM2">YubiHSM2</a></li><li><a href="/Software_Projects">Software Projects</a></li>
</ul>
<!-- Google Custom Search Engine -->
<div class="navbar-form navbar-right" id="search-box">
<script>
          (function() {
            var cx = '017198492754729237489:tcnraf8md8a';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
          })();
          </script>
<gcse:searchbox-only></gcse:searchbox-only>
</div>
<!-- End Google Custom Search Engine -->
</div><!--/.navbar-collapse -->
</div>
</div>
<div class="container">
<div class="row">
<ol class="breadcrumb">
<li><a href="/">Home</a></li>
<li><a href="/yubix">yubix</a></li>
<li class="active">Getting Started</li>
</ol>
</div>
<div class="row">
<div class="col-md-4" style="padding-left: 0;">
<!-- Sidebar -->
<ul class="nav nav-side well well-sm">
<li class="active"><a href="/yubix">yubix</a><ul class="">
<li class="active"><a href="/yubix/Getting_Started.html">Getting Started</a>
</li></ul>
</li></ul>
<!-- End sidebar -->
</div>
<div class="col-md-8">
<!-- Main content -->
<div class="sidelinks">
<ul>
<li><a href="https://github.com/Yubico/yubix" rel="noopener noreferrer" target="_blank"><i class="fa fa-github fa-lg"></i> Github</a></li>
</ul>
</div>
<div id="page-content">
<div class="sect1">
<h1 id="_getting_started">Getting Started</h1>
<div class="sectionbody">
<div class="paragraph"><p>This document will allow you to quickly configure and test a
new YubiX installation, as well as get a grasp of the various
parts of YubiX.</p></div>
<div class="sect2">
<h3 id="_overview">Overview</h3>
<div class="paragraph"><p>YubiX is a pre-configured packaging of various components that
can be used together to integrate secure two-factor
authentication with other systems. YubiX can be seen as a base
to build your custom solution upon, but can also almost be used
out of the box, with relatively little customization.</p></div>
</div>
<div class="sect2">
<h3 id="_getting_yubix">Getting YubiX</h3>
<div class="sect3">
<h4 id="_yubix_virtual_appliance">YubiX Virtual Appliance</h4>
<div class="paragraph"><p>You may download a virtual appliance of the YubiX: <a href="http://developers.yubico.com/yubix-vm/">YubiX Virtual Appliance</a>.</p></div>
<div class="paragraph"><p>Once downloaded, the virtual appliance needs to be booted using some virtualization framework.  We provided instructions for the following environments.  If you are installing the package directly onto your machine, you don’t need to do anything extra.</p></div>
<div class="paragraph"><p><a href="https://developers.yubico.com/yubix-vm/Installation_Using_Virtual_Machine_Manager.html">YubiX on virt-manager</a></p></div>
<div class="paragraph"><p>Once booted you may login using the username <em>yubikey</em> and password <em>yubico</em>.
Change the password if you are concerned with console access security.</p></div>
</div>
<div class="sect3">
<h4 id="_installing_yubix_on_ubuntu">Installing YubiX on Ubuntu</h4>
<div class="paragraph"><p>As an alternative to the virtual appliance, you can install the yubix package
on your Ubuntu 12.04 LTS (or later) machine, via our PPAs:</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If your system does not already have the add-apt-repository command,
you will need to install it first, which can be done by running:</td>
</tr></table>
</div>
<div class="paragraph"><p>For Ubuntu 12.10 and earlier:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>sudo apt-get install software-properties-common
</pre></div></div></div>
<div class="paragraph"><p>or</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>sudo apt-get install python-software-properties
</pre></div></div></div>
<div class="paragraph"><p>For Ubuntu 13.04 and later:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>sudo apt-get install python-software-properties
</pre></div></div></div>
<div class="paragraph"><p>Once you have the add-apt-repository command available, run the following
commands:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>sudo add-apt-repository ppa:yubico/stable
sudo add-apt-repository ppa:yubico/yubix
sudo apt-get update
sudo apt-get install yubix
</pre></div></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_the_yubiadmin_web_interface">The YubiAdmin web interface</h3>
<div class="paragraph"><p>Most configuration can be done by using the YubiAdmin web interface. You can
access it by opening a web browser and pointing it to the IP address of the
YubiX host.
The first time you do this, a setup page will be displayed allowing you to set
a username and password for accessing the YubiAdmin interface, to prevent
unauthorized access. Even so, it is strongly discouraged to expose the admin
interface outside your local network!</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If you’ve manually installed YubiX instead of using the Virtual
Appliance, the admin interface will be accessible on port 8080 from the machine
itself (via the loopback interface only), using the default username and
password: yubiadmin/yubiadmin.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_radius">Setting up RADIUS</h3>
<div class="paragraph"><p>The following describes a quick way to set up a system where users are
authenticated over RADIUS with YubiKey OTP support. YubiX comes with
<a href="http://freeradius.org" rel="noopener noreferrer" target="_blank">FreeRADIUS</a> pre-configured for use with the YubiKey,
using a custom module which uses <a href="https://developers.yubico.com/yubiauth/">YubiAuth</a>
as an authentication backend.</p></div>
<div class="sect3">
<h4 id="_otp_validation">OTP validation</h4>
<div class="sect4">
<h5 id="_using_yubicloud_for_validation">Using YubiCloud for validation</h5>
<div class="paragraph"><p>By default, the YubiAuth installation verifies OTPs using the YubiCloud
validation service. The YubiCloud service is free to use and YubiKeys are
shipped pre-programmed with a key that works with YubiCloud out of the box.</p></div>
</div>
<div class="sect4">
<h5 id="_using_your_own_validation_server">Using your own validation server</h5>
<div class="paragraph"><p>If you intend to use the built in validation server, you will
need to add some YubiKeys to the <a href="https://developers.yubico.com/yubikey-ksm/">KSM</a>
which is also running on localhost.
This isn’t required if you intend to use the YubiCloud service.
Please follow along these three guides describing the steps
retuired to generate and import keys into the KSM:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="https://developers.yubico.com/yubikey-ksm/Generate_KSM_Key.html">Generate KSM Key</a>
</p>
</li>
<li>
<p>
<a href="https://developers.yubico.com/yubikey-ksm/Generate_Keys.html">Generate Keys</a>
</p>
</li>
<li>
<p>
<a href="https://developers.yubico.com/yubikey-ksm/Import_Keys_To_KSM.html">Import Keys To KSM</a>
</p>
</li>
</ul></div>
<div class="paragraph"><p>You also need to change the YubiAuth configuration so that it uses the local
validation server, instead of YubiCloud. During installation, a client should
have been automatically created, which we can use. To find out the client ID and
API key, open the <em>YubiKey Validation Server</em> section in the YubiAdmin web
interface, then click on the <em>API Clients</em> tab, and you should be presented
with the Client ID and the API key. If you need more API clients, you can create
those using this page.</p></div>
<div class="paragraph"><p>To change the YubiAuth configuration, use the YubiAdmin web interface.
Open to the <em>YubiAuth</em> section, and click on the <em>Validation Server(s)</em> tab.
Enter the <em>Client ID</em> and <em>API key</em>, and replace the <em>Validation Server URLs</em>
with the following single line:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>http://127.0.0.1/wsapi/2.0/verify
</pre></div></div></div>
<div class="paragraph"><p>Now click on the <em>Save</em> button, and you’re done. Remember to reload the web
server for the changes to take effect (which can be done from the General tab).</p></div>
</div>
</div>
<div class="sect3">
<h4 id="_adding_users">Adding users</h4>
<div class="paragraph"><p>Adding users is done via the YubiAdmin web interface. Open the <em>YubiAuth</em>
section, and click on the <em>Manage Users</em> tab. Using the on-screen buttons
you can create, modify and delete users, as well as assign or unassign
YubiKeys for them to use.</p></div>
<div class="sect4">
<h5 id="_auto_provisioning">Auto-Provisioning</h5>
<div class="paragraph"><p>Auto-Provisioning gives you an easy way to associate YubiKeys with existing
accounts. It is enabled by default, if you wish to disable it you can do so by
unchecking the <em>Auto Provision YubiKeys</em> checkbox under the <em>General</em>
tab of the <em>YubiAuth</em> section in the YubiAdmin web interface.</p></div>
<div class="paragraph"><p>With Auto-Provisioning enabled, YubiKeys are assigned to users automatically.
When an existing user that does not already have a YubiKey provisioned logs in
using a YubiKey, that YubiKey is then assigned to the user. This allows you to
hand out YubiKeys to some or all of the users, and let the keys become locked
to the accounts when they are used. If you need to make changes to the
auto-provisioned mapping or need to assign multiple YubiKeys to the same user,
use the <em>Manage Users</em> tab of the YubiAuth section of the YubiAdmin web
interface, as described in the previous section.</p></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_the_setup">Test the setup</h3>
<div class="paragraph"><p>Once everything is configured, you should be able to authenticate using the
radtest utility.</p></div>
<div class="paragraph"><p>The YubiKey OTP can be provided by appending it either to the username or to
the password. Here’s an example:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ radtest user1 testingcccccccccccbbtrtikevthrvhceudvvuveidihckgrgl <span class="m">127</span>.0.0.1 <span class="m">0</span> testing123
Sending Access-Request of id <span class="m">51</span> to <span class="m">127</span>.0.0.1 port <span class="m">1812</span>
        User-Name <span class="o">=</span> <span class="s2">"user1"</span>
        User-Password <span class="o">=</span> <span class="s2">"testingcccccccccccbbtrtikevthrvhceudvvuveidihckgrgl"</span>
        NAS-IP-Address <span class="o">=</span> <span class="m">127</span>.0.1.1
        NAS-Port <span class="o">=</span> <span class="m">0</span>
rad_recv: Access-Accept packet from host <span class="m">127</span>.0.0.1 port <span class="m">1812</span>, <span class="nv">id</span><span class="o">=</span><span class="m">51</span>, <span class="nv">length</span><span class="o">=</span><span class="m">20</span>
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_usage">Usage</h3>
<div class="paragraph"><p>Using YubiKey authentication with RADIUS is done by supplying a valid YubiKey
OTP together with the users other credentials. This is done by appending the
OTP to either the username, or to the password.</p></div>
</div>
</div>
</div>
</div>
<!-- End main content -->
</div>
</div>
</div>
<footer class="container">
<div class="row" style="margin-top:30px;padding-top:20px;border-top:1px solid #eee;">
<div class="col-md-3">
<p style="line-height:2em;font-size:90%">
<strong><a href="https://developers.yubico.com/" style="color:#000">DEV.YUBICO</a></strong><br>
<a href="/FIDO2">FIDO2</a><br>
<a href="/OTP">OTP</a><br>
<a href="/U2F">U2F</a><br>
<a href="/OATH">OATH</a><br>
<a href="/PGP">PGP</a><br>
<a href="/PIV">PIV</a><br>
<a href="/YubiHSM2">YubiHSM2</a><br>
<a href="/Software_Projects">Software Projects</a><br>
</br></br></br></br></br></br></br></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:2em;font-size:90%"><strong>RESOURCES</strong><br>
<a href="https://store.yubico.com/" rel="noopener noreferrer" target="_blank">Buy YubiKeys</a><br>
<a href="https://www.yubico.com/blog/" rel="noopener noreferrer" target="_blank">Blog</a><br>
<a href="https://www.yubico.com/newsletter/" rel="noopener noreferrer" target="_blank">Newsletter</a><br>
<a href="http://forum.yubico.com/" rel="noopener noreferrer" target="_blank">Yubico Forum Archive</a></br></br></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:2em;font-size:90%"><strong><a href="https://www.yubico.com/" rel="noopener noreferrer" style="color:#000" target="_blank">YUBICO.COM</a></strong><br>
<a href="https://www.yubico.com/why-yubico/" rel="noopener noreferrer" target="_blank">Why Yubico</a><br>
<a href="https://www.yubico.com/about/about-us/" rel="noopener noreferrer" target="_blank">About Yubico</a></br></br></p>
</div>
<div class="col-md-3">
<p style="line-height:1em;font-size:90%"> </p>
<table align="right" cellpadding="0" cellspacing="0" style="color:#9aca3c">
<tbody>
<tr>
<td style="padding:10px"><a href="https://www.yubico.com/feed/" rel="noopener noreferrer" target="_blank" title="Blog RSS"><i class="fa fa-rss"></i></a></td>
<td style="padding:10px"><a href="https://twitter.com/yubico" rel="noopener noreferrer" target="_blank" title="Twitter"><i class="fa fa-twitter"></i></a></td>
<td style="padding:10px"><a href="https://plus.google.com/114531431015898699937" rel="noopener noreferrer" target="_blank" title="Google Plus"><i class="fa fa-google-plus"></i></a></td>
<td style="padding:10px"><a href="https://www.facebook.com/Yubikey" rel="noopener noreferrer" target="_blank" title="Facebook"><i class="fa fa-facebook"></i></a></td>
<td style="padding:10px"><a href="https://www.youtube.com/c/Yubico" rel="noopener noreferrer" target="_blank" title="YouTube"><i class="fa fa-youtube"></i></a></td>
<td style="padding:10px 0 10px 10px"><a href="https://github.com/Yubico" rel="noopener noreferrer" target="_blank" title="GitHub"><i class="fa fa-github"></i></a></td>
</tr>
</tbody>
</table>
</div>
</div>
</footer>
<!-- Offset anchor links for navbar -->
<script>
    var shiftWindow = function() { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
  </script>
<script src="/vendor/jquery/dist/jquery.min.js"></script>
<script src="/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
</body>
</html>